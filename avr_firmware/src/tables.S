# Copyright (c) 2021 nikitapnn1@gmail.com
# This file is a part of npsystem (Distributed Control System) and covered by LICENSING file in the topmost directory

.section .nrww.rd, "ax", @progbits
.global FLASH_RD
	FLASH_RD:
	#0xcc601060 -> read 1 byte from 0x60 put in 0x60, array end marker
#	.word 0x1060, 0x4c60
#	.byte 0x00
	.word 0x0000, 0x0000

.section .nrww.tt, "ax", @progbits
.global FLASH_TT
	FLASH_TT:
	.word 0x0000

.section .nrww.io, "ax", @progbits
.global init_io
	init_io:

#ifdef __AVR_ATmega8__
	.word 0xb308, 0x7f0f, 0x630f, 0xbb08, 0xb307
	.word 0x7c00, 0x6000, 0xbb07, 0xb305, 0x7f0f
	.word 0x630f, 0xbb05, 0xb304, 0x7c00, 0x6000
	.word 0xbb04, 0xb302, 0x7f0f, 0x6f00, 0xbb02
	.word 0xb301, 0x700f, 0x6000, 0xbb01, 0x9508
#endif

#ifdef __AVR_ATmega16__
	.word 0xb30b, 0x7f0f, 0x6f0f, 0xbb0b, 0xb30a
	.word 0x7000, 0x6000, 0xbb0a, 0xb308, 0x7f0f
	.word 0x6f0c, 0xbb08, 0xb307, 0x7003, 0x6000
	.word 0xbb07, 0xb305, 0x7f0f, 0x6f0f, 0xbb05
	.word 0xb304, 0x7000, 0x6000, 0xbb04, 0xb302
	.word 0x7f0f, 0x6f00, 0xbb02, 0xb301, 0x700f
	.word 0x6000, 0xbb01, 0x9508
#endif

	ret

.section .tab.twi, "ax", @progbits
.global FLASH_TWI
	FLASH_TWI:
	.byte 0x00